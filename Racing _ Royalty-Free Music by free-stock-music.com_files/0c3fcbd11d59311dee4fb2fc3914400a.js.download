(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var k=this||self;function l(a,b){a=a.split(".");var d=k;a[0]in d||"undefined"==typeof d.execScript||d.execScript("var "+a[0]);for(var c;a.length&&(c=a.shift());)a.length||void 0===b?d[c]&&d[c]!==Object.prototype[c]?d=d[c]:d=d[c]={}:d[c]=b};var m,n;a:{for(var p=["CLOSURE_FLAGS"],q=k,r=0;r<p.length;r++)if(q=q[p[r]],null==q){n=null;break a}n=q}var t=n&&n[610401301];m=null!=t?t:!1;var u;const v=k.navigator;u=v?v.userAgentData||null:null;function w(a){return m?u?u.brands.some(({brand:b})=>b&&-1!=b.indexOf(a)):!1:!1}function x(a){var b;a:{if(b=k.navigator)if(b=b.userAgent)break a;b=""}return-1!=b.indexOf(a)};function y(){return m?!!u&&0<u.brands.length:!1}function z(){return y()?w("Chromium"):(x("Chrome")||x("CriOS"))&&!(y()?0:x("Edge"))||x("Silk")};!x("Android")||z();z();x("Safari")&&(z()||(y()?0:x("Coast"))||(y()?0:x("Opera"))||(y()?0:x("Edge"))||(y()?w("Microsoft Edge"):x("Edg/"))||y()&&w("Opera"));const A=Symbol();function B(a,b){if(A)return a[A]|=b;if(void 0!==a.g)return a.g|=b;Object.defineProperties(a,{g:{value:b,configurable:!0,writable:!0,enumerable:!1}});return b}function C(a){let b;A?b=a[A]:b=a.g;return null==b?0:b}function D(a,b){A?a[A]=b:void 0!==a.g?a.g=b:Object.defineProperties(a,{g:{value:b,configurable:!0,writable:!0,enumerable:!1}});return a}function E(a){B(a,16);return a}function ba(a,b){D(b,(a|0)&-51)}function F(a,b){D(b,(a|18)&-41)};var G={};function H(a){return null!==a&&"object"===typeof a&&!Array.isArray(a)&&a.constructor===Object}var I=Object.freeze(D([],23));function J(a){const b=a.i+a.g;return a.m||(a.m=a.j[b]={})}function K(a,b,d){a.l&&(a.l=void 0);b>=a.i?J(a)[b]=d:(a.j[b+a.g]=d,(a=a.m)&&b in a&&delete a[b])}
function L(a,b,d){var c=-1===d?null:d>=a.i?a.m?a.m[d]:void 0:a.j[d+a.g];var f=!1;if(null==c||"object"!==typeof c||(f=Array.isArray(c))||c.o!==G)if(f){f=C(a.j);const e=C(c);let g=e;0===g&&(g|=f&16);g|=f&2;g!==e&&D(c,g);b=new b(c)}else b=void 0;else b=c;b!==c&&null!=b&&K(a,d,b);c=b;if(null==c)return c;C(a.j)&2||(b=c,C(b.j)&2&&(f=M(b,!1),f.l=b,b=f),b!==c&&(c=b,K(a,d,c)));return c};let N;function O(a,b){N=b;a=new a(b);N=void 0;return a};function ca(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "boolean":return a?1:0;case "object":if(a&&!Array.isArray(a)&&null!=a&&a instanceof Uint8Array){let b="",d=0;const c=a.length-10240;for(;d<c;)b+=String.fromCharCode.apply(null,a.subarray(d,d+=10240));b+=String.fromCharCode.apply(null,d?a.subarray(d):a);return btoa(b)}}return a};function da(a,b){const d=a.j;var c=d.length;const f=E([]),e=a.constructor.i;e&&f.push(e);const g=a.m;let h;g&&(f.length=c,h={},f[c-1]=h);const Z=O(a.constructor,f);a.s&&(Z.s=a.s.slice());a=e?1:0;for(c=g?c-1:c;a<c;a++)f[a]=b(d[a]);if(g)for(const aa in g)h[aa]=b(g[aa]);return Z}function ea(a,b,d,c,f,e){if(null!=a){if(Array.isArray(a))a=f&&0==a.length&&C(a)&1?void 0:e&&C(a)&2?a:P(a,b,d,void 0!==c,f,e);else if(H(a)){const g={};for(let h in a)g[h]=ea(a[h],b,d,c,f,e);a=g}else a=b(a,c);return a}}
function P(a,b,d,c,f,e){const g=C(a);c=c?!!(g&16):void 0;a=Array.prototype.slice.call(a);for(let h=0;h<a.length;h++)a[h]=ea(a[h],b,d,c,f,e);d&&d(g,a);return a}function fa(a){return a.o===G?a.toJSON():ca(a)};function ha(a,b,d=F){if(null!=a){if(a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){const c=C(a);if(c&2)return a;if(b&&!(c&32)&&(c&16||0===c))return D(a,c|18),a;a=P(a,ha,c&4?F:d,!0,!1,!0);b=C(a);b&4&&b&2&&Object.freeze(a);return a}a.o===G&&(C(a.j)&2||(a=M(a,!0),B(a.j,18)));return a}}function M(a,b){const d=b||C(a.j)&2?F:ba,c=!!(C(a.j)&16);return da(a,f=>ha(f,c,d))};var Q=class{constructor(a,b,d){null==a&&(a=N);N=void 0;var c=this.constructor.i;if(null==a){a=c?[c]:[];var f=!0;D(a,48)}else{if(!Array.isArray(a))throw Error();if(c&&c!==a[0])throw Error();var e=B(a,0)|32;f=0!==(16&e);D(a,e)}this.g=c?0:-1;this.j=a;a:{e=this.j.length;c=e-1;if(e&&(e=this.j[c],H(e))){this.m=e;this.i=c-this.g;break a}void 0!==b&&-1<b?(this.i=Math.max(b,c+1-this.g),this.m=void 0):this.i=Number.MAX_VALUE}if(d){b=f&&!0;f=this.i;let h;for(c=0;c<d.length;c++)if(e=d[c],e<f){e+=this.g;var g=
a[e];g?ia(g,b):a[e]=I}else h||(h=J(this)),(g=h[e])?ia(g,b):h[e]=I}}toJSON(){return P(this.j,fa,void 0,void 0,!1,!1)}};function ia(a,b){if(Array.isArray(a)){var d=C(a),c=1;!b||d&2||(c|=16);(d&c)!==c&&D(a,d|c)}}Q.prototype.o=G;Q.prototype.toString=function(){return this.j.toString()};function ja(a){return b=>{if(null==b||""==b)b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error(void 0);b=O(a,E(b))}return b}};var R=class extends Q{constructor(a){super(a,-1,R.g)}};R.g=[17];var S=class extends Q{constructor(a){super(a,-1,S.g)}};S.g=[27];var T=class extends Q{constructor(a){super(a,-1,T.g)}};T.g=[8];var ka=ja(class extends Q{constructor(a){super(a)}});var U=class extends Q{constructor(a){super(a,-1,U.g)}},la=ja(U);U.g=[1,2,3];function V(a,b){a=a.getElementsByTagName("META");for(let d=0;d<a.length;++d)if(a[d].getAttribute("name")===b)return a[d].getAttribute("content")||"";return""};function W(a,b){a=a.body;var d={detail:void 0};let c;"function"===typeof window.CustomEvent?c=new CustomEvent(b,d):(c=document.createEvent("CustomEvent"),c.initCustomEvent(b,!!d.bubbles,!!d.cancelable,d.detail));a.dispatchEvent(c)}
var ma=class{constructor(a){this.body=a;this.g=[];V(a,"sampling_mod");var b=V(a,"namespace");if(!b){b="ns-"+(0,Math.random)().toString(36).substr(2,5);a:{var d=a.getElementsByTagName("META");for(let c=0;c<d.length;++c)if("namespace"===d[c].getAttribute("name")&&d[c].getAttribute("index")===(0).toString()){d[c].setAttribute("content",b);break a}d=a.querySelector("#mys-meta");d||(d=document.createElement("div"),d.id="mys-meta",d.style.position="absolute",d.style.display="none",a.appendChild(d));a=document.createElement("META");
a.setAttribute("name","namespace");a.setAttribute("content",b);a.setAttribute("index",(0).toString());d.appendChild(a)}}if(!(0<this.g.length)){a=V(this.body,"environment");for(const c of a.split("|"))c&&this.g.push(c)}}addEventListener(a,b){this.body.addEventListener(a,b)}};function na(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};function oa(a){if(1>=a.i.offsetWidth||1>=a.i.offsetHeight)return!1;a.g.remove();W(a.context,"spanReady");return!0}
var pa=class{constructor(a){this.context=a;this.l={B:!1,A:100};this.i=na("SPAN");this.g=na("DIV");this.i.style.fontSize="6px";this.i.textContent="go";this.g.style.position="absolute";this.g.style.top="100%";this.g.style.left="100%";this.g.style.width="1px";this.g.style.height="0";this.g.style.overflow="hidden";this.g.style.visibility="hidden";this.g.appendChild(this.i)}wait(){if(!this.l.B&&(W(this.context,"spanStart"),this.context.body.appendChild(this.g),!oa(this)))return new Promise(a=>{const b=
setInterval(()=>{oa(this)&&(clearInterval(b),a())},this.l.A)})}};var qa=class{constructor(a,b){this.context=a;this.g=L(b,S,1)||new S;L(b,T,12)||new T;L(this.g,R,10)||new R}};function ra(a){a.l.length=0;a.i=!0}function sa(a,b){a.g=!0;const d=()=>{a.i=!1;const c=a.l.shift();return void 0===c?(a.g=!1,Promise.resolve()):sa(a,c())};return b?b.then(d,()=>{if(a.i)return d();a.g=!1;return Promise.reject()}):d()}function ta(a,b){for(const d of b)a.l.push(d);if(!a.g)return sa(a)}var ua=class{constructor(){this.i=this.g=!1;this.l=[]}};function va(a){ra(a.l);return ta(a.l,[()=>{if(!a.u){var b=V(a.context.body,"render_config")||"[]";b=ka(b);b=new qa(a.context,b);a.u=b}b=(new pa(a.context)).wait();W(a.context,"browserStart");W(a.context,"browserStartEnd");a.g&=-31;a.g|=2;return b},()=>{W(a.context,"browserReady");W(a.context,"browserReadyEnd");a.g|=4;W(a.context,"overallReady")},()=>{W(a.context,"browserQuiet");W(a.context,"browserQuietEnd");a.g|=8}])}
function wa(a){la(V(a.context.body,"engine_msg")||"[]");return va(a)||Promise.resolve()}var X=class{constructor(a,b){this.l=new ua;this.g=0;this.context=new ma(b)}v(){return this.g}i(){this.g&=-31;this.g|=1;let a=0;const b=this.context.body;b.addEventListener("browserRender",()=>{++a;if(1===a)W(this.context,"overallStart"),wa(this).then(()=>{W(this.context,"overallQuiet")});else{var d=b.clientHeight;b.clientWidth&&d&&wa(this)}})}};let Y;l("mys.engine.init",(a,b)=>{Y=new X(a,b);Y.i()});l("mys.engine.stage",()=>{let a;return(null==(a=Y)?void 0:a.g)||0});l("mys.Engine",X);l("mys.Engine.prototype.i",X.prototype.i);l("mys.Engine.prototype.s",X.prototype.v);}).call(this);
